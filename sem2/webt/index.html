<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Buchclub</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body>
    <header class="w3-container w3-teal">
      <h1>Buchclub</h1>
    </header>
    <nav class="w3-bar w3-light-grey">
      <a class="w3-bar-item w3-button" href="#information">Information</a>
      <a class="w3-bar-item w3-button" href="#formular"
        >Buchempfehlung einreichen</a
      >
    </nav>
    <main id="app">
      <section id="information" class="w3-container">
        <h2>Information</h2>
        <p>
          Teilen deine Buchempfehlungen mit anderen und entdecken Sie neue
          Bücher, die dir gefallen könnten.
        </p>
        <p>
          Jeden Monat führen wir in der Suurstoffi 12 in {{ location_info.zip }}
          {{ location_info.place_name }} ({{ location_info.state }}, {{
          location_info.longitude }} / {{ location_info.latitude }}) einen
          Buchabend durch, an dem Leseratten jeglicher Genre-Vorlieben
          eingeladen sind, ihr neuen Lieblinge vorzustellen.
        </p>
        <p>Komm doch vorbei!</p>
        <img
          src="img/suurstoffi12.jpg"
          alt="Lageplan der Suurstoffi 12"
          class="w3-image"
          id="location-map"
        />

        <section id="past-topbooks">
          <strong>Die ausgewählten Bücher der letzten Monaten:</strong>
          <ul>
            <li v-for="book in topBooks">
              {{ book.monat }}: {{ book.titel }} von {{ book.autor }} ({{
              book.genre }}, {{ book.erscheinungsjahr }})
            </li>
          </ul>
        </section>

        <p>
          Wir treffen uns jeweils am ersten Tag des Monats um 17:00 Uhr. Damit
          du die Verbleibende Zeit bis zum nächsten Treffen siehst, haben wir
          einen Countdown erstellt:
        </p>
        <canvas id="countdown" alt="Countdown bis zum nächsten Treff"></canvas>
      </section>
      <section id="formular" class="w3-container">
        <h2>Neue Buchempfehlung einreichen</h2>
        <form id="bookForm" @submit.prevent="submitForm">
          <label for="title">Titel</label>
          <input type="text" id="title" v-model="book.title" />
          <p v-if="errors.title" class="w3-text-red error">
            {{ errors.title }}
          </p>

          <label for="author">Autor</label>
          <input type="text" id="author" v-model="book.author" />
          <p v-if="errors.author" class="w3-text-red error">
            {{ errors.author }}
          </p>

          <label for="genre">Genre</label>
          <select id="genre" v-model="book.genre">
            <option v-for="genre in allGenres" :value="genre">
              {{ genre }}
            </option>
          </select>
          <p v-if="errors.genre" class="w3-text-red error">
            {{ errors.genre }}
          </p>

          <label for="publicationYear">Erscheinungsjahr</label>
          <input
            type="number"
            id="publicationYear"
            v-model="book.publicationYear"
          />
          <p v-if="errors.publicationYear" class="w3-text-red error">
            {{ errors.publicationYear }}
          </p>

          <button type="submit" class="w3-button w3-teal">Empfehlen</button>
        </form>
      </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
